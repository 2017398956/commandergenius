diff -ru orig/openttd-1.0.4/src/network/core/os_abstraction.h openttd-1.0.4/src/network/core/os_abstraction.h
--- orig/openttd-1.0.4/src/network/core/os_abstraction.h	2010-05-18 17:49:59.000000000 -0400
+++ openttd-1.0.4/src/network/core/os_abstraction.h	2010-11-13 16:35:45.000000000 -0500
@@ -159,7 +159,7 @@
 #		include <net/if.h>
 /* According to glibc/NEWS, <ifaddrs.h> appeared in glibc-2.3. */
 #		if !defined(__sgi__) && !defined(SUNOS) && !defined(__MORPHOS__) && !defined(__BEOS__) && !defined(__HAIKU__) && !defined(__INNOTEK_LIBC__) \
-		   && !(defined(__GLIBC__) && (__GLIBC__ <= 2) && (__GLIBC_MINOR__ <= 2)) && !defined(__dietlibc__) && !defined(HPUX)
+		   && !(defined(__GLIBC__) && (__GLIBC__ <= 2) && (__GLIBC_MINOR__ <= 2)) && !defined(__dietlibc__) && !defined(HPUX) && !defined(ANDROID)
 /* If for any reason ifaddrs.h does not exist on your system, comment out
  *   the following two lines and an alternative way will be used to fetch
  *   the list of IPs from the system. */
diff -ru orig/openttd-1.0.4/src/os/unix/unix.cpp openttd-1.0.4/src/os/unix/unix.cpp
--- orig/openttd-1.0.4/src/os/unix/unix.cpp	2010-05-18 17:44:47.000000000 -0400
+++ openttd-1.0.4/src/os/unix/unix.cpp	2010-11-13 18:06:14.000000000 -0500
@@ -25,7 +25,7 @@
 #ifdef __APPLE__
 	#include <sys/mount.h>
 #elif (defined(_POSIX_VERSION) && _POSIX_VERSION >= 200112L) || defined(__GLIBC__)
-	#define HAS_STATVFS
+//	#define HAS_STATVFS
 #endif
 
 #ifdef HAS_STATVFS
@@ -239,6 +239,8 @@
 void cocoaReleaseAutoreleasePool();
 #endif
 
+#include <SDL.h>
+extern "C" int CDECL main(int, char *[]);
 int CDECL main(int argc, char *argv[])
 {
 	int ret;
